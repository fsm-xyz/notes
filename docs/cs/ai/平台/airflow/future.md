# 新架构

设计一个SDK，就像微服务基础框架一样，引入即可，自动实现处理

分层，实现业务和调度互相独立，高级调度，业务无感知

当前的架构还能继续提速5-10倍以上
## 方向

一套阿里云上的airflow比较好的方案
+ 开启负载感知，避免资源高负载
+ 开启超卖，最大化利用资源
+ 使用ack-kube-queue，其实就是k8s内置的的Queue
+ elasticquotatree做资源配置，这个有个缺陷就是只支持多个namespace的，不像volcano可以是一个namespace下多个任务队列
+ 镜像融合
+ kubernetesjoboperator + Kueue

## SDK

1. 组件拆分，迁移到系统节点
2. 资源预留，避免系统组件受到影响
3. PodOperator->JobOperator
4. 资源统一处理
5. 存储统一处理
6. labels统一处理
7. 注解统一处理
8. 默认参数标准化
9. 环境变量统一化
10. 镜像融合
11. 队列
12. 指标
13. Airflow3.0
14. BashOperator
15. 存储

## 计算

## 存储

从原来的

## 调度

根据业务类型进行设计调度，调度到不同的节点上，C9I,c9ae,c9e

1. io类型
2. Cpu
3. 内存

本地的cpu和gpu是独享的，云上的cpu和gpu是共享的，导致有争抢，这个通过高级调度解决


进行镜像融合，队列，job，实现自动化伸缩，动态调整业务数量